/dts-v1/;
#include "meson8.dtsi"
#include <dt-bindings/clock/meson8.h>
#include <dt-bindings/reset/aml_meson8m2_gate.h>
/{
	amlogic-dt-id = "m8m2_n200_2G";
	compatible = "AMLOGIC,mesonX";
	model = "AMLOGIC";
	#address-cells = <1>;
	#size-cells = <1>;
	aliases {
		serial0 = &uart_AO;
	};

	memory{
		device_type = "memory";
        	#address-cells = <1>;
        	#size-cells = <1>;

	};
	reserved-memory {
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;
		/* global autoconfigured region for contiguous allocations */
		secmon_reserved:linux,secmon {
			compatible = "aml_secmon_memory";
			reg = <0x06100000 0x03000000>;
			no-map;
		};
		linux,cma {
			compatible = "shared-dma-pool";
			reusable;
			size = <0x4000000>;
			alignment = <0x2000>;
			linux,cma-default;
		};
	};

    	psci {
		compatible = "arm,psci";
		method = "smc";
		cpu_suspend = <0xC4000001>;
		cpu_off = <0x84000002>;
		cpu_on = <0x84000003>;
		migrate = <0xC4000005>;
		reg=<0xc4300000 0x4000
			0xc110419c 0x4
			0xc81000e4 0x4
			0xc81000e0 0x4
			0xd9000000 0x20000
			0xc4300000 0x4000>;
	};
	secmon {
		compatible = "aml,secmon";
		memory-region = <&secmon_reserved>;
		in_base_func = <0x82000020>;
		out_base_func = <0x82000021>;
	};
	ethmac: ethernet@0xc9410000{
		compatible = "amlogic, meson8m2-rmii-dwmac";
		reg = <0xc9410000 0x10000
		0xc1108108 0x4>;
		interrupts = <0 8 1>;
		resets = <&clock GCLK_IDX_ETHERNET>;
		reset-names = "ethpower";
		interrupt-names = "macirq";
		clocks = <&clock CLK_81>;
		clock-names = "ethclk81";
	};
	meson-remote {
		compatible = "amlogic, meson, remote-keypad";
		dev_name = "meson-remote";
		status = "ok";
		interrupts = <0 15 1>;
		interrupt-names = "remoteirq";
	};

	pmu {
		compatible = "amlogic, aml_pmu_prober";
		#address-cells = <1>;
		#size-cells = <0>;
		driver_version = "v0.70";
		axp202 {
			compatible = "amlogic, axp_mfd";
			sub_type = "axp20_mfd";
			i2c_bus = "i2c_bus_ao";
			interrupts = <0 66 2>;
			reg = <0x34>;
			soft_limit_to99 = <0>;
			status = "disable";
		};
		aml1212 {
			compatible = "amlogic, amlogic_pmu";
			sub_type = "aml1212";
			i2c_bus = "i2c_bus_ao";
			interrupts = <0 66 2>;
			reg = <0x35>;
			soft_limit_to99 = <0>;
			status = "disable";
		};
		rn5t618 {
			compatible = "amlogic, ricoh_pmu";
			sub_type = "rn5t618";
			i2c_bus = "i2c_bus_ao";
			interrupts = <0 66 2>;
			reg = <0x32>;
			soft_limit_to99 = <0>;
			vbus_dcin_short_connect = <0>;
			status = "okay";
		};
		aml1216 {
			compatible = "amlogic, amlogic_pmu";
			sub_type = "aml1216_pmu";
			i2c_bus = "i2c_bus_ao";
			interrupts = <0 66 2>;
			reg = <0x35>;
			soft_limit_to99 = <0>;
			vbus_dcin_short_connect = <0>;
			status = "disable";
		};
		aml1218{
			compatible = "amlogic, amlogic_pmu";
			sub_type = "aml1218_pmu";
			i2c_bus = "i2c_bus_ao";
			interrupts = <0 66 2>;
			reg = <0x35>;
			soft_limit_to99 = <0>;
			vbus_dcin_short_connect = <1>;
			status = "disable";
		};
	};
	dwc2_b {
		compatible = "amlogic,dwc2";
		reg = <0xc90c0000 0x40000>;
		interrupts = <0 31 4>;
		status = "okay";
		pl-periph-id = <1>; /** lm name */
		clock-src = "usb1"; /** clock src */
		port-id = <1>;   /** ref to mach/usb.h */
		port-type = <1>;	/** 0: otg, 1: host, 2: slave */
		port-speed = <0>; /** 0: default, 1: high, 2: full */
		port-config = <0>; /** 0: default */
		port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
		port-id-mode = <1>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
		phy-reg = <0xc1108820>;
		phy-reg-size = <0x20>;
		usb-fifo = <1024>;
		host-only-core = <1>;
		pmu-apply-power = <1>;
		cpu-type = "meson8";
		resets = <&clock GCLK_IDX_USB_GENERAL
					&clock GCLK_IDX_MISC_USB1_TO_DDR
					&clock GCLK_IDX_USB1>;
		reset-names = "usb_general",
						"usb1",
						"usb1_to_ddr";
	};

	dwc2_a {
		compatible = "amlogic,dwc2";
		reg = <0xc9040000 0x40000>;
		interrupts = <0 30 4>;
		status = "okay";
		pl-periph-id = <0>; /** lm name */
		clock-src = "usb0"; /** clock src */
		port-id = <0>;  /** ref to mach/usb.h */
		port-type = <0>;	/** 0: otg, 1: host, 2: slave */
		port-speed = <0>; /** 0: default, high, 1: full */
		port-config = <0>; /** 0: default */
		port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
		port-id-mode = <0>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
		gpio-vbus-power = "GPIOZ_1";
		gpio-work-mask	= <1>; /**0: work on pulldown,1:work on pullup*/
		phy-reg = <0xc1108800>;
		phy-reg-size = <0x20>;
		usb-fifo = <1024>;
		cpu-type = "meson8";
		resets = <&clock GCLK_IDX_USB_GENERAL
					&clock GCLK_IDX_MISC_USB0_TO_DDR
					&clock GCLK_IDX_USB0>;
		reset-names = "usb_general",
						"usb0",
						"usb0_to_ddr";
	};

}; /* end of / */
&uart_AO {
	status="okay";
};

&i2c_ao {
  status = "okay";
};

&i2c_b {
  status = "okay";
};

&i2c_c {
  status = "okay";
};
&i2c_d {
  status = "okay";
};
